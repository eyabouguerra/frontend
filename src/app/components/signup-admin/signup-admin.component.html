<app-header2></app-header2>
<app-dash-admin></app-dash-admin>
<html>

<body class="lola">
  <div class="outer">
    <div class="container">
      <div class="row">
        <div class="offset-md-2 col-md-8 offset-md-3">
          <div class="panel border bg-white form-background">
            <div class="panel-heading">
              <h1 class="pt-3 font-weight-bold tt"><b>Cr√©er un compte utilisateur</b></h1>

            </div>
            <div class="panel-body p-3">
              <form #registerForm="ngForm" (ngSubmit)="register(registerForm)">
                <!-- Pr√©nom -->
                <div class="form-group pt-3">
                  <div class="input-field"
                    [class.error]="registerForm.controls['userFirstName']?.dirty && registerForm.controls['userFirstName']?.errors?.['required']">
                    <span class="fa fa-user p-2"></span>
                    <input ngModel id="userFirstName" name="userFirstName" type="text" placeholder="Pr√©nom" required>
                  </div>
                </div>
                <small
                  *ngIf="registerForm.controls['userFirstName']?.dirty && registerForm.controls['userFirstName']?.errors?.['required']"
                  class="text-danger">*Le pr√©nom est requis</small>

                <!-- Nom -->
                <div class="form-group pt-3">
                  <div class="input-field"
                    [class.error]="registerForm.controls['userLastName']?.dirty && registerForm.controls['userLastName']?.errors?.['required']">
                    <span class="fa fa-user p-2"></span>
                    <input ngModel id="userLastName" name="userLastName" type="text" placeholder="Nom" required>
                  </div>
                </div>
                <small
                  *ngIf="registerForm.controls['userLastName']?.dirty && registerForm.controls['userLastName']?.errors?.['required']"
                  class="text-danger">*Le nom est requis</small>

                <!-- Nom d'utilisateur -->
                <div class="form-group pt-3">
                  <div class="input-field"
                    [class.error]="registerForm.controls['userName']?.dirty && registerForm.controls['userName']?.errors?.['required']">
                    <span class="fa fa-user p-2"></span>
                    <input ngModel id="userName" name="userName" type="text" placeholder="Nom d'utilisateur" required>
                  </div>
                </div>
                <small
                  *ngIf="registerForm.controls['userName']?.dirty && registerForm.controls['userName']?.errors?.['required']"
                  class="text-danger">*Le nom d'utilisateur est requis</small>

                <!-- Email -->
                <div class="form-group pt-3">
                  <div class="input-field"
                    [class.error]="registerForm.controls['email']?.dirty && registerForm.controls['email']?.errors?.['required']">
                    <span class="fa fa-envelope p-2"></span>
                    <input ngModel id="email" name="email" type="email" placeholder="Adresse email de l'utilisateur" required>
                  </div>
                </div>
                <small
                  *ngIf="registerForm.controls['email']?.dirty && registerForm.controls['email']?.errors?.['required']"
                  class="text-danger">*L'email est requis</small>

                  

                <!-- R√¥le -->
                <div class="form-group pt-3">
                  <div class="input-field"
                    [class.error]="registerForm.controls['role']?.dirty && registerForm.controls['role']?.errors?.['required']">
                    <span class="fa fa-users p-2"></span>
                    <select ngModel name="role" id="role" required>
                      <option value="" disabled selected>S√©lectionnez un r√¥le</option>
                      <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
                    </select>
                  </div>
                </div>
                <small
                  *ngIf="registerForm.controls['role']?.dirty && registerForm.controls['role']?.errors?.['required']"
                  class="text-danger">*Le r√¥le est requis</small>
<!-- Mot de passe g√©n√©r√© automatiquement -->
<div class="form-group pt-3">
  <label class="form-label"><strong>üîê Mot de passe g√©n√©r√© automatiquement :</strong></label>
  <div class="input-field" style="background-color: #f8f9fa; position: relative;">
    <span class="fa fa-lock p-2"></span>
    <input [value]="generatedPassword" [type]="type" readonly 
           style="background-color: #f8f9fa; cursor: default; padding-right: 40px;" 
           placeholder="Mot de passe g√©n√©r√© automatiquement">
    <span class="fa" [ngClass]="eyeIcon" (click)="hideShowPass()" 
          style="cursor: pointer; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);"></span>
  </div>
  <div class="mt-2">
    <button type="button" class="btn btn-sm btn-outline-secondary" (click)="generateNewPassword()">
      üîÑ G√©n√©rer un nouveau mot de passe
    </button>
  </div>
</div>



                <button type="submit" class="btn btn-block mt-4 w-100 btn-lg btn-primary">
                  Cr√©er le compte 
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>